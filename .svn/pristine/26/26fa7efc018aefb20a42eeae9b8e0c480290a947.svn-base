<!-- begin::Add Invoice -->
<div class="card m-3">
    <!-- begin::Heading -->
    <div class="card-header bg-lightblue card-height55">
        <div class="card-title m-0">
            <h5 class="fw-bolder text-blue">ACCOUNTING INVOICE ADD CONFIRM</h5>
        </div>
    </div>
    <!-- end::Heading -->

    <!-- begin:: Invoice Add Form-->
    <form [formGroup]="addinvoiceform" (ngSubmit)="onSubmit()">
        
        <div class="d-flex flex-row m-6 flex-wrap">
            
            <div class="col-12 col-lg-4 col-md-6 mt-2 col-sm-12"><b>Invoice Number<span
                        class="ms-1 text-red">*</span></b>
                        <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                        <input type="text"
                        class="form-control form-control-lg form-control-solid  mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                        placeholder="Auto Populate" readonly formControlName="invoice_refno" class="form-control" />
            </div></div>

            <div class="col-12 col-lg-4 col-md-6 mt-2 col-sm-12"><b>Invoice Reference No</b>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input type="text"
                        class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                        placeholder="Auto Populate" readonly formControlName="invoice_gid" class="form-control" />
                </div>
            </div><br>

            <div class="col-12 col-lg-4 col-md-6 mt-2 col-sm-12"><b>Invoice Date</b>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input type="date"
                        class="form-control form-control-lg form-control-solid date-picker mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                        placeholder="DD-MM-YYYY" formControlName="invoice_date" />
                </div>
            </div><br>
            <div class="col-12 col-lg-4 col-md-6 mt-2 fv-row col-sm-12">
                <div class="row">
                    <div class="col-6">
                        <b>Payment Term<span class="ms-1 text-red">*</span></b>
                        <div class="col-12 mt-2">
                            <select
                                class="form-select form-select-solid bg-white form-select-lg borderc-secondary custom-input select2"
                                formControlName="payment_term">
                                <option disabled selected>Select Days</option>
                                <option value="0" selected>0 Days</option>
                                <option value="7" selected>7 Days</option>
                                <option value="15" selected>15 Days</option>
                                <option value="30" selected>30 Days</option>
                                <option value="45" selected>45 Days</option>
                                <option value="60" selected>60 Days</option>
                                <option value="90" selected>90 Days</option>
                                <option value="120" selected>120 Days</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-6">
                        <b>Date</b>
                        <div class="col-10 mt-2">
                            <input type="date" 
                                class="form-control form-control-lg form-control-solid date-picker mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                                placeholder="DD-MM-YYYY" readonly formControlName="payment_date" />
                        </div>
                    </div>
                </div>
            </div><br>



            <div class="col-12 col-lg-4 col-md-6 mt-2 col-sm-12"><b>Branch</b>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input type="text"
                        class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                        placeholder="Auto Populate" readonly formControlName="branch_name" class="form-control" />
                </div>
            </div>
            <div class="col-12 col-lg-4 col-md-6 mt-2 fv-row col-sm-12">
                <div class="row">
                    <div class="col-6">
                        <b>SO Details<span class="ms-1 text-red">*</span></b>
                        <div class="col-16 mt-2">
                            <input type="text" placeholder="Auto Populate" readonly
                                class="form-control form-control-lg form-control-solid bg-white  borderc-secondary custom-input" 
                                formControlName="serviceorder_gid">
                        </div>
                    </div>
                    <div class="col-6">
                        <b><span cl ass="ms-1 text-red"></span></b><br>
                        <div class="col-10 mt-2">
                            <input type="text"
                                class="form-control form-control-lg form-control-solid date-picker mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                                placeholder="DD-MM-YYYY" readonly formControlName="serviceorder_date" />
                        </div>
                    </div>
                </div>
            </div><br>


            <div class="col-12 col-lg-4 col-md-6 mt-2 col-sm-12"><b>Company Name</b>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input type="text"
                    class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                     [readOnly]="true" formControlName="vendor_companyname" class="form-control" />
            </div></div>

            <div class="col-12 col-lg-4 col-md-6 mt-4 col-sm-12"><b>Email Address</b>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input type="text"
                        class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 borderc-secondary  bg-white custom-input"
                        placeholder="Email Address" readonly formControlName="email_id" class="form-control" />
                </div>
            </div>

            <div class="col-12 col-lg-4 col-md-6 mt-2 col-sm-12"><b>Contact Person Name</b>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input type="text"
                        class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 borderc-secondary bg-white custom-input text-red"
                        placeholder="Auto Populate" readonly formControlName="contactperson_name" class="form-control" />
                </div>
            </div>

            <div class="col-12 col-lg-4 col-md-6 mt-4 col-sm-12"><b>Currency</b>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input
                        class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0 borderc-secondary bg-white custom-input"
                        formControlName="currency_code" placeholder="Auto Populate" readonly />

                    
                </div>
            </div>
            <div class="col-12 col-lg-4 col-md-6 mt-4 col-sm-12"><b>Exchange Rate<span
                class="ms-1 text-red">*</span></b>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <input type="text"
                        class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0  borderc-secondary bg-white custom-input"
                        placeholder="0.00" formControlName="exchange_rate" class="form-control"
                        style="text-align: right;" />
                </div>
            </div>

            <div class="col-12 col-lg-4 col-md-6 mt-4 col-sm-12"><b>Purchase Type<span
                        class="ms-1 text-red">*</span></b>
                <div class="col-lg-12 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <ng-select
                        class="form-select form-control-lg bg-white form-select-lg borderc-secondary custom-input select2"
                        formControlName="purchasetype_name"[items]="purchasetype_list" required class="custom col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2"
                        bindLabel="purchasetype_name" bindValue="purchasetype_name" placeholder="Select an option"></ng-select>
                    
                </div>
            </div>

            <!-- <div class="col-12 col-lg-4 col-md-6 mt-4 col-sm-12"><b>Invoice Type<span
                class="ms-1 text-red">*</span></b>
                <div class="d-flex justify-content-start mt-4 ms-2">
                    <div class="form-check form-check-custom form-check-success form-check-solid form-check-sm">
                        <input class="form-check-input" type="radio" name="batchtracker" id="Y" formControlName="batch_flag" value="Y">
                        <label class="form-check-label text-gray-700 text-nowrap"
                            for="Yes">Asset Invoice</label>
                    </div>
                    <div class="form-check form-check-custom form-check-success form-check-solid form-check-sm ms-10">
                        <input class="form-check-input" type="radio" name="batchtracker" formControlName="batch_flag" value="N" id="N">
                        <label class="form-check-label text-gray-700 text-nowrap"
                            for="No">non-Asset Invoice</label>
                    </div>
                </div>
    </div>

    <div class="col-12 col-lg-4 col-md-6 mt-4 col-sm-12"><b>Entity<span
        class="ms-1 text-red">*</span></b>
<div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
    <select
        class="form-select form-control-lg bg-white form-select-lg borderc-secondary custom-input select2"
        formControlName="entity_name">
        <option value="">Select Entity type</option>
        <option *ngFor="let entity_name of entity_list" [value]="entity_name.entity_gid">{{entity_name.entity_name}}</option>
    </select>
</div>
</div> -->


            <div class="col-12 col-lg-12 col-md-6 mt-4 col-sm-12"><b>Remarks</b>
                <div class="col-lg-11 col-12 col-md-11 col-sm-11 fv-row mt-2">
                    <textarea type="text"
                        class="form-control form-control-lg form-control-solid custom-input mb-3 mb-lg-0  borderc-secondary bg-white custom-input"
                        formControlName="invoice_remarks" class="form-control" style="text-align: right;"></textarea>

                </div>
            </div>
        </div>

    <!-- end:: Invoice Add Form -->


    <!--Start:: Summary starts -->

   
        <div class="card card-body m-3 shadow-lg p-3 mb-5 bg-white table-responsive rounded">
            <table  class="table table-striped table-row-bordered gy-5 gs-7 ">
                
                <thead>
                    <tr class="fw-bold fs-5 text-nowrap bg-lightblue text-blue">
                       <th>S.No</th>
                        <th>Product</th>
                        <th>Description</th>
                        <th>Quantity</th>
                        <th>Unit Price</th>
                        <th>Discount<br> Amount</th>
                        <th>SO <br>Amount</th>
                        <th>Tax</th>
                        <th>Invoice<br> Amount</th>
                        <th>Total <br> Amount</th>
                      
                       
                    </tr>
                </thead>
             

                   
        
                <tbody>
                           <!--Product Name product_name-->
                           <tr *ngFor="let data of invoiceaddcomfirm_list; let i=index;" class="d-flex-wrap">
                            <td >{{i+1}}</td>
                         <td>
                           
                           {{data.product_name}}
                       
                    </td>
                           
                           <!--description-->
                         <td>
                            <textarea class="form-control form-control form-control-solid custom-input mb-3 mb-0  borderc-secondary bg-white custom-input">
                           {{data.description}}
                        </textarea>
                         </td>
                           <!--Quantity-->
                         <td> {{data.quantity}}</td>

                           <!--Unit Price-->
                         <td> {{data.unit_price}}</td>

                           <!--Discount Amount  discount_percentage-->
                         <td>{{data.discount_amount}}</td> 
                         
                           <!--SO Amount-->
                         <td> {{data.total_amount}}</td>

                           <!--tax-->
                           <td>
                            <!-- <div *ngFor= "let data of taxcalculation_list;"> -->
                            <div class="container" >
                            <div class="row">
                                <div class="col">
                                    <label>
                                        <input style="width: 90px;" readonly  formControlName="tax_name1" class="form-control form-control form-control-solid custom-input  borderc-secondary bg-white custom-input mb-2">
                                    </label>
                                </div>
                                <div class="col">
                                    <label>
                                        <input style="width: 90px;" readonly formControlName="tax_amount1" class="form-control form-control form-control-solid custom-input  borderc-secondary bg-white custom-input">
                                    </label>
                                </div></div>
                                </div>
                             <div class="container">
                                <div class="row">
                                    <div class="col">
                                        <label>
                                            <input style="width: 90px;" readonly  formControlName="tax_name2" class="form-control form-control form-control-solid custom-input  borderc-secondary bg-white custom-input mb-2">
                                        </label>
                                    </div>
                                    <div class="col">
                                        <label>
                                            <input style="width: 90px;" readonly formControlName="tax_amount2" class="form-control form-control form-control-solid custom-input  borderc-secondary bg-white custom-input">
                                        </label>
                                    </div></div></div>
                                    
                                   <div class="container">
                                    <div class="row">
                                        <div class="col">
                                            <label>
                                                <input style="width: 90px;" readonly formControlName="tax_name3" class="form-control form-control form-control-solid custom-input  borderc-secondary bg-white custom-input mb-2">
                                            </label>
                                        </div>
                                            <div class="col">
                                            <label>
                                                <input style="width: 90px;" readonly formControlName="tax_amount3" class="form-control form-control form-control-solid custom-input  borderc-secondary bg-white custom-input">
                                            </label>
                                        </div>
                                        </div></div>
                                    <!-- </div> -->
                           </td>

                           <!--Invoice Amount-->

                           <td>

                     
                                    <label>
                                        <input style="width:120px" placeholder="0.00" [(ngModel)]="product_price" (input)="prodtotalcal()" pattern="[0-9]*" formControlName="product_price" class="form-control form-control form-control-solid custom-input mb-2 border-2 border-primary bg-white custom-input">
                                    </label>
                               
                            

                          
                                    <label>
                                        <input style="width: 120px;" readonly [(ngModel)]="tax_amount" (input)="taxamount()" formControlName="percentage1" class="form-control form-control form-control-solid custom-input  borderc-secondary bg-white custom-input mb-2">
                                    </label>
                                
                               

                                
                                    <label>
                                        <input style="width: 120px;" readonly [(ngModel)]="tax_amount2" (input)="taxamount2()" formControlName="percentage2" class="form-control form-control  form-control-solid custom-input  borderc-secondary bg-white custom-input mb-2">
                                    </label>
                              

                              
                                    <label>
                                        <input style="width: 120px;" readonly [(ngModel)]="tax_amount3" (input)="taxamount3()" formControlName="percentage3" class="form-control form-control form-control-solid custom-input   borderc-secondary bg-white custom-input">
                                    </label>
                            
                           
                           </td>

                           <!--Total Amount-->
                       <td>
                        
                        <label>
                            <input style="width: 120px;" readonly formControlName="product_total" [(ngModel)]="product_total" (input)="prodtotalcal()"  class="form-control form-control form-control-solid custom-input   borderc-secondary bg-white custom-input">
                        </label>
                       </td>
                        
                    </tr>
                </tbody> 
            </table>
<!--Summary count starts-->

<div class="row jusify-content-right" *ngFor="let data of invoiceaddcomfirm_list;">

    <div class="card">
        <div class="d-flex row justify-content-end mt-2">
            <div class="col-md-3 d-flex align-items-center">
              <label class="col-sm-6 col-form-label fw-bolder">Net Amount:</label>
              <input type="text" class="form-control-plaintext" style="width:70px" readonly placeholder="0.00">
              <span style=" color:  rgb(0, 0, 80);font-weight: bold;">{{data.currency_code}}</span>
            </div>
          </div>
          
          <div class="d-flex row justify-content-end mt-2">
            <div class="col-md-3 d-flex align-items-center">
              <label class="col-sm-6 col-form-label fw-bolder">Overall Tax:</label>
              <input type="text" class="form-control-plaintext" style="width:70px" readonly placeholder="0.00">&nbsp;
              <span style=" color:  rgb(0, 0, 80);font-weight: bold;">{{data.currency_code}}</span>
            </div>
          </div>
       

          <div class="d-flex row justify-content-end mt-2">
            <div class="col-md-3 d-flex align-items-center">
              <label class="col-sm-6 col-form-label fw-bolder">Discount Amount:</label>
              <input type="text" class="form-control" style="width:70px"  placeholder="0.00">&nbsp;
              <span style=" color:  rgb(0, 0, 80);font-weight: bold;">{{data.currency_code}}</span>
            </div>
          </div>

          <div class="d-flex row justify-content-end mt-2">
            <div class="col-md-3 d-flex align-items-center">
              <label class="col-sm-6 col-form-label fw-bolder">Addon Amount:</label>
              <input type="text" class="form-control" style="width:70px"  placeholder="0.00">&nbsp;
              <span style=" color:  rgb(0, 0, 80);font-weight: bold;">{{data.currency_code}}</span>
            </div>
          </div>

          <div class="d-flex row justify-content-end mt-2">
            <div class="col-md-3 d-flex align-items-center">
              <label class="col-sm-6 col-form-label fw-bolder">Overall Total:</label>
              <input type="text" class="form-control-plaintext" readonly style="width:70px"  placeholder="0.00">&nbsp;
              <span style=" color:  rgb(0, 0, 80);font-weight: bold;">{{data.currency_code}}</span>
            </div>
          </div>

          <div class="d-flex row justify-content-end mt-2">
            <div class="col-md-3 d-flex align-items-center">
              <label class="col-sm-6 col-form-label fw-bolder">SO Total:</label>
              <input type="text" class="form-control-plaintext" readonly style="width:70px"  placeholder="0.00">&nbsp;
              <span style=" color:  rgb(0, 0, 80);font-weight: bold;">{{data.currency_code}}</span>
            </div>
          </div>
          <div class="d-flex row justify-content-end mt-2">
            <div class="col-md-3 d-flex align-items-center">
              <label class="col-sm-6 col-form-label fw-bolder">Invoice Amount Already Paid:</label>
              <input type="text" class="form-control-plaintext" readonly style="width:70px"  placeholder="0.00">&nbsp;
              <span style=" color:  rgb(0, 0, 80);font-weight: bold;">{{data.currency_code}}</span>
            </div>
          </div>

          <div class="d-flex row justify-content-end mt-2">
            <div class="col-md-3 d-flex align-items-center">
              <label class="col-sm-6 col-form-label fw-bolder">Grand Total:</label>
              <input type="text" class="form-control-plaintext" readonly style="width:70px"  placeholder="0.00">&nbsp;
              <span style=" color:  rgb(0, 0, 80);font-weight: bold;">{{data.currency_code}}</span>
            </div>
          </div>

      </div>

</div>
<!--Summary count ends-->

            <div class="text-center my-4">
                <button   class="btn-success btn-sm text-white me-4"  data-bs-dismiss="modal">          
                    <i class="fas fa-check text-white fs-5 "></i> &nbsp;Submit
                </button> &nbsp;&nbsp;
                <button class="btn-danger btn-sm text-white me-4" (click)="close()" data-bs-dismiss="modal">
                <i class="fas fa-close text-white"></i> &nbsp;Close
                </button>
            </div>
        </div> 
 
    </form>
    <!--Start:: Summary ends -->
    